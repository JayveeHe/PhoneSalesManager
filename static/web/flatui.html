<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Flat UI Free 101 Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="css/vendor/bootstrap.min.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="css/flat-ui.min.css" rel="stylesheet">

    <link rel="shortcut icon" href="img/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/vendor/html5shiv.js"></script>
      <script src="js/vendor/respond.min.js"></script>
    <![endif]-->
    <!-- jQuery (necessary for Flat UI's JavaScript plugins) -->
    <script src="js/vendor/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/vendor/video.js"></script>
    <script src="js/flat-ui.min.js"></script>

    <!-- datatables-->
    <script src="js/jquery.dataTables.min.js"></script>


    <!-- 获取表格数据 -->
    <script>
        //alert('START');
        // $(document).ready(function () {
        //     loadDataBase('PhoneRemains');
        // });
        function loadDataBase(tablename) {
            $.get('/data/' + tablename, null, function (data, status) {
                if (status == "success") {
                    var dataset = eval(data);
                    //document.getElementById("tables").innerHTML = xmlhttp.responseText;
                    //var dataSet = [];
                    var datahtml = "";
                    $("#tablebody").empty();
                    for (var i = 0; i < dataset.length; i++) {
                        $("#tablebody").append("<tr>" +
                                "<td class='center'>" + dataset[i].phone_name + "</td>" +
                                "<td class='center'>" + dataset[i].remains + "</td>" +
                                "<td class='center'>" + dataset[i].record_id + "</td>" +
                                "</tr>");
                        //dataSet[i] = ("[" + dataset[i].phone_name + "," + dataset[i].remains + "," + dataset[i].record_id + "]");
                    }
                }
            });
        }
    </script>

</head>
<body>
    <div class="row">
        <div class="col-md-12">
            <nav class="nav navbar-inverse" role="navigation">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse"
                            data-target="#navbar-collapse-01">
                        <span class="sr-only">Toggle navigation</span>
                    </button>
                    <a class="navbar-brand" href="#">库存管理</a>
                </div>
                <div class="collapse navbar-collapse" id="navbar-collapse-01">
                    <ul class="nav navbar-nav">
                        <li><a class="btn-link" onclick="loadDataBase('PhoneRemains')">销售记录</a></li>
                        <li><a href="#fakelink">库存信息</a></li>
                    </ul>
                </div>
                <!-- /.navbar-collapse -->
            </nav>
        </div>
    </div>
    <div class="row">
        <div class="box col-md-1">
        </div>

        <div class="box col-md-9" id="tables">
            <table class="table table-striped table-bordered bootstrap-datatable datatable responsive" id="mytable">
                <caption>手机剩余量</caption>
                <thead id="tablehead">
                <tr>
                    <th>手机名</th>
                    <th>剩余量</th>
                    <th>ID</th>
                </tr>
                </thead>
                <tbody id="tablebody"></tbody>
            </table>
        </div>
        <div class="box col-md-2">
        </div>
    </div>
</div>
<!-- /.container -->


</body>
</html>
